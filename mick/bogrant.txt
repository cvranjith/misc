SET TRIMSPOOL ON
SET PAGES 0 LINE 999
SET FEED OFF
set serverout on size 10000
SPOOL TMP.TMP
DECLARE N NUMBER;
BEGIN
SELECT COUNT(1)
INTO	N
FROM	USER_TABLES
WHERE	TABLE_NAME ='BOTB_ALL_FC_OBJECTS';
IF N = 0
THEN
DBMS_OUTPUT.PUT_LINE('CREATE TABLE BOTB_ALL_FC_OBJECTS');
DBMS_OUTPUT.PUT_LINE('(');
DBMS_OUTPUT.PUT_LINE('OBJECT_NAME VARCHAR2(100)');
DBMS_OUTPUT.PUT_LINE(')');
DBMS_OUTPUT.PUT_LINE('/');
ELSE
DBMS_OUTPUT.PUT_LINE('REM');
END IF;
END;
/
SPOOL OFF
@TMP.TMP


DELETE BOTB_ALL_FC_OBJECTS
/
INSERT	INTO BOTB_ALL_FC_OBJECTS
SELECT 	OBJECT_NAME
FROM	USER_OBJECTS
WHERE
OBJECT_TYPE IN ('TABLE','VIEW')
/
INSERT	INTO BOTB_ALL_FC_OBJECTS
SELECT 	SYNONYM_NAME
FROM	USER_SYNONYMS A
WHERE	EXISTS
	(
	SELECT	1
	FROM	BOTB_ALL_FC_OBJECTS B
	WHERE	B.OBJECT_NAME = A.TABLE_NAME
	)
/
SPOOL BOG.SQL
SELECT	'GRANT SELECT ON FLXT.'||OBJECT_NAME||' TO FLXTRD;'
FROM	BOTB_ALL_FC_OBJECTS
/
SELECT	'CREATE SYONONYM FLXTRD.'||OBJECT_NAME||' FOR FLXT.'||OBJECT_NAME||';'
FROM	BOTB_ALL_FC_OBJECTS
/
SPOOL OFF

SET FEED ON

